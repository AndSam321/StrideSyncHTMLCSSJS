<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>
    <link rel="stylesheet" href="/assets/css/index.css" />
    <style>
      .container {
        text-align: center;
      }

      #login-button {
        background-color: #1db954;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
      }

      #login-button:hover {
        background-color: #1ed760;
      }
    </style>
  </head>
  <body>
    <div class="navbar">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="profile.html">Profile</a></li>
        <li><a href="social.html">Social</a></li>
        <!-- <li><a href="pages.html">Pages</a></li> -->
        <!-- Can add more buttons for the navbar here as needed. -->
      </ul>
    </div>
    <div class="container">
      <h1>Login with Spotify Below:</h1>
      <button id="login-button">
        Click here to login with your Spotify Account
      </button>
    </div>
    <script>
      const clientId = "401d63283cf74348b61eb45d0531a011";
      const redirectUri = "http://127.0.0.1:5500/assets/pages/callback.html"; // Update to your profile page URL
      // const scopes = "user-top-read";
      const scopes = [
      "user-read-private",
      "user-read-email",
      "playlist-modify-public",
      "playlist-modify-private"
      ];


      document.getElementById("login-button").addEventListener("click", () => {
        // const authUrl = `https://accounts.spotify.com/authorize?client_id=${clientId}&redirect_uri=${encodeURIComponent(
        //   redirectUri
        // )}&scope=${encodeURIComponent(scopes)}&response_type=token`;
        const authUrl = `https://accounts.spotify.com/authorize?response_type=code&client_id=${clientId}&scope=${scopes.join("%20")}&redirect_uri=${encodeURIComponent(redirectUri)}`;
        window.location.href = authUrl;
      });
    </script>
  </body>
</html>
